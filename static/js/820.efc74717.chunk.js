"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[820],{820:function(t,e,n){n.r(e),n.d(e,{default:function(){return D}});var r=n(791),i=n(139),a=n(825),s=n(59),o=n(32),u=n(885),c=n(199),d=n(973),f=n(159),l=n(790),h=n(172),g=n.n(h);var v=n(770),x=n(184),p=(0,c.z)("div")({name:"WordContainer",class:"wxs32l4",vars:{"wxs32l4-0":[function(t){return t.isDragging?.5:1}]}}),m=(0,r.forwardRef)((function(t,e){var n,i=t.id,a=t.text,s=t.index,o=t.group,c=(0,r.useRef)(null),h=(0,r.useCallback)((function(t,e){v.h.setTargetWords(g()(v.h.targetWords,{$splice:[[t,1],[e,0,v.h.targetWords[t]]]}))}),[]),m=(0,d.L)({accept:"word",collect:function(t){return{handlerId:t.getHandlerId()}},hover:function(t,e){if("target"===o&&"target"===t.group){var n;if(!c.current)return;var r=t.index,i=s;if(r===i)return;var a=null===(n=c.current)||void 0===n?void 0:n.getBoundingClientRect(),u=(a.right-a.left)/2,d=e.getClientOffset().x-a.left;if(r<i&&d<u)return;if(r>i&&d>u)return;h(r,i),t.index=i}}}),C=(0,u.Z)(m,2),k=C[0].handlerId,j=C[1],y=(0,f.c)({type:"word",item:function(){return{id:i,index:s,group:o}},collect:function(t){return{isDragging:t.isDragging()}}}),S=(0,u.Z)(y,2),W=S[0].isDragging;return(0,S[1])(j(c)),(0,x.jsx)(p,{ref:(n=[c,e],function(t){n.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}),isDragging:W,"data-handler-id":k,children:(0,x.jsx)(l.Z,{text:a})})}));n(617);var C=(0,c.z)("div")({name:"GroupContainer",class:"gwtst8r"}),k=function(t){var e=t.type,n=t.children,i=(0,r.useCallback)((function(t){v.h.setTargetWords(g()(v.h.targetWords,{$push:[v.h.startWords[t]]})),v.h.setStartWords(g()(v.h.startWords,{$splice:[[t,1]]}))}),[]),a=(0,r.useCallback)((function(t){v.h.setStartWords(g()(v.h.startWords,{$push:[v.h.targetWords[t]]})),v.h.setTargetWords(g()(v.h.targetWords,{$splice:[[t,1]]}))}),[]),s=(0,d.L)({accept:"word",drop:function(t){var n=t.index;"target"===e&&"start"===t.group&&i(n),"start"===e&&"target"===t.group&&(a(n),setTimeout((function(){return v.h.sortStartWords()}),500))}}),o=(0,u.Z)(s,2)[1];return(0,x.jsx)(C,{ref:o,children:n})};n(302);var j=(0,c.z)("button")({name:"PrimaryButton",class:"pn8b0vq"}),y=function(t){var e=t.onClick;return(0,x.jsx)(j,{onClick:e,children:"Check"})};n(288);var S=(0,c.z)("div")({name:"CheckSentenceControlsContainer",class:"c1x3e29a"}),W=(0,c.z)("div")({name:"ButtonContainer",class:"bnqja4n",vars:{"bnqja4n-0":[function(t){return t.showStatus?"50px":"0"}]}}),w=(0,c.z)("div")({name:"VerificationStatusContainer",class:"vpmzgjx",vars:{"vpmzgjx-0":[function(t){return t.isCorrect?"#17d217":"#f31616"}]}}),b=(0,o.Pi)((function(){var t=(0,r.useState)(!1),e=(0,u.Z)(t,2),n=e[0],i=e[1],a=(0,r.useState)(!1),s=(0,u.Z)(a,2),o=s[0],c=s[1];return(0,x.jsxs)(S,{children:[(0,x.jsx)(w,{isCorrect:n,children:n?(0,x.jsx)(l.Z,{text:"Correct!"}):(0,x.jsx)(l.Z,{text:"Something is wrong!"})}),(0,x.jsx)(W,{showStatus:o,children:(0,x.jsx)(y,{onClick:function(){if(v.h.setSentenceToCheck(),v.h.sentenceToCheck!==v.h.currentSentence.en&&i(!1),v.h.sentenceToCheck===v.h.currentSentence.en){var t=new SpeechSynthesisUtterance(v.h.sentenceToCheck);t.lang="en-US",i(!0),setTimeout((function(){return v.h.renderNewSentence()}),3e3),speechSynthesis.speaking||speechSynthesis.speak(t)}c(!0),setTimeout((function(){return c(!1)}),1500)}})})]})}));n(746);var T=function(t){var e=(0,r.useRef)();return(0,r.useEffect)((function(){e.current=t}),[t]),e.current},Z=function(t){var e={};return r.Children.map(t,(function(t){var n,r=null===(n=t.ref)||void 0===n?void 0:n.current;r&&t.key&&(e[t.key]=r.getBoundingClientRect())})),e},z=function(t){var e=t.children,n=T(e),i=(0,r.useState)({}),a=(0,u.Z)(i,2),s=a[0],o=a[1],c=(0,r.useState)({}),d=(0,u.Z)(c,2),f=d[0],l=d[1];return(0,r.useLayoutEffect)((function(){o(Z(e))}),[e]),(0,r.useLayoutEffect)((function(){n&&l(Z(n))}),[n]),(0,r.useEffect)((function(){var t=Object.keys(f).length;r.Children.map(e,(function(e){if(t&&e.key){var n,r=null===(n=e.ref)||void 0===n?void 0:n.current,i=f[e.key],a=s[e.key];if(i&&a){var o=i.left-a.left,u=i.bottom-a.bottom;0===o&&0===u||requestAnimationFrame((function(){r&&(r.style.transform="translate3d(".concat(o,"px, ").concat(u,"px, 0)"),r.style.transition="transform 0ms",requestAnimationFrame((function(){r.style.transform="translate3d(0, 0, 0)",r.style.transition="transform 250ms"})))}))}}}))}),[s,f,e]),(0,x.jsx)(x.Fragment,{children:e})},D=(0,o.Pi)((function(){var t,e,n="ontouchstart"in window||navigator.maxTouchPoints>0?s.zr:a.PD,o=(0,r.useCallback)((function(t,e,n){return(0,x.jsx)(m,{id:t.id,text:t.text,index:e,group:n,ref:(0,r.createRef)()},t.id+t.text)}),[]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(i.W,{backend:n,children:[(0,x.jsx)(k,{type:"target",children:null===(t=v.h.targetWords)||void 0===t?void 0:t.map((function(t,e){return o(t,e,"target")}))}),(0,x.jsx)(k,{type:"start",children:(0,x.jsx)(z,{children:null===(e=v.h.startWords)||void 0===e?void 0:e.map((function(t,e){return(0,x.jsx)(m,{id:t.id,text:t.text,index:e,group:"start"},t.id+t.text)}))})})]}),(0,x.jsx)(b,{})]})}))},288:function(t,e,n){n.r(e),e.default={}},746:function(t,e,n){n.r(e),e.default={}},302:function(t,e,n){n.r(e),e.default={}},617:function(t,e,n){n.r(e),e.default={}}}]);
//# sourceMappingURL=820.efc74717.chunk.js.map
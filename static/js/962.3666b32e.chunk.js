"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[962],{962:function(t,e,n){n.r(e),n.d(e,{default:function(){return R}});var r=n(975),i=n(139),a=n(825),s=n(32),o=n(885),u=n(199),c=n(973),f=n(159),d=n(790),l=n(172),h=n.n(l);var g=n(678),p=n(184),v=(0,u.z)("div")({name:"WordContainer",class:"wxs32l4",vars:{"wxs32l4-0":[function(t){return t.isDragging?.5:1}]}}),x=(0,r.forwardRef)((function(t,e){var n,i=t.id,a=t.text,s=t.index,u=t.group,l=(0,r.useRef)(null),x=(0,r.useCallback)((function(t,e){g.h.setTargetWords(h()(g.h.targetWords,{$splice:[[t,1],[e,0,g.h.targetWords[t]]]}))}),[]),m=(0,c.L)({accept:"word",collect:function(t){return{handlerId:t.getHandlerId()}},hover:function(t,e){if("target"===u&&"target"===t.group){var n;if(!l.current)return;var r=t.index,i=s;if(r===i)return;var a=null===(n=l.current)||void 0===n?void 0:n.getBoundingClientRect(),o=(a.right-a.left)/2,c=e.getClientOffset().x-a.left;if(r<i&&c<o)return;if(r>i&&c>o)return;x(r,i),t.index=i}}}),C=(0,o.Z)(m,2),k=C[0].handlerId,j=C[1],S=(0,f.c)({type:"word",item:function(){return{id:i,index:s,group:u}},collect:function(t){return{isDragging:t.isDragging()}}}),W=(0,o.Z)(S,2),y=W[0].isDragging;return(0,W[1])(j(l)),(0,p.jsx)(v,{ref:(n=[l,e],function(t){n.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}),isDragging:y,"data-handler-id":k,children:(0,p.jsx)(d.Z,{text:a})})}));n(617);var m=n(982),C=function(t,e){return t.id>e.id?1:t.id<e.id?-1:0},k=(0,u.z)("div")({name:"CloudContainer",class:"c1f83loz"}),j=function(t){var e=t.group,n=t.children,i=(0,r.useCallback)((function(t){g.h.setTargetWords(h()(g.h.targetWords,{$push:[g.h.startWords[t]]})),g.h.setStartWords(h()(g.h.startWords,{$splice:[[t,1]]}))}),[]),a=(0,r.useCallback)((function(t){g.h.setStartWords(h()(g.h.startWords,{$push:[g.h.targetWords[t]]})),g.h.setTargetWords(h()(g.h.targetWords,{$splice:[[t,1]]}))}),[]),s=(0,c.L)({accept:"word",drop:function(t){var n=t.index;"target"===e&&"start"===t.group&&i(n),"start"===e&&"target"===t.group&&(a(n),setTimeout((function(){return g.h.setStartWords((0,m.Z)(g.h.startWords).sort(C))}),500))}}),u=(0,o.Z)(s,2)[1];return(0,p.jsx)(k,{ref:u,children:n})};n(707);var S=(0,u.z)("button")({name:"PrimaryButton",class:"pn8b0vq"}),W=function(t){var e=t.onClick;return(0,p.jsx)(S,{onClick:e,children:"Check"})};n(288);var y=(0,u.z)("div")({name:"CheckSentenceControlsContainer",class:"c1x3e29a"}),b=(0,u.z)("div")({name:"ButtonContainer",class:"bnqja4n",vars:{"bnqja4n-0":[function(t){return t.showStatus?"12px":"-32px"}]}}),w=(0,u.z)("div")({name:"VerificationStatusContainer",class:"vpmzgjx",vars:{"vpmzgjx-0":[function(t){return t.isCorrect?"#17d217":"#f31616"}]}}),Z=(0,s.Pi)((function(){var t=(0,r.useState)(!1),e=(0,o.Z)(t,2),n=e[0],i=e[1],a=(0,r.useState)(!1),s=(0,o.Z)(a,2),u=s[0],c=s[1];return(0,p.jsxs)(y,{children:[(0,p.jsx)(w,{isCorrect:n,children:n?(0,p.jsx)(d.Z,{text:"Correct!"}):(0,p.jsx)(d.Z,{text:"Something is wrong!"})}),(0,p.jsx)(b,{showStatus:u,children:(0,p.jsx)(W,{onClick:function(){if(g.h.setSentenceToCheck(),g.h.sentenceToCheck!==g.h.currentSentence.en&&i(!1),g.h.sentenceToCheck===g.h.currentSentence.en){var t=new SpeechSynthesisUtterance(g.h.sentenceToCheck);t.lang="en-US",i(!0),speechSynthesis.speaking||speechSynthesis.speak(t)}c(!0),setTimeout((function(){return c(!1)}),3e3)}})})]})}));n(746);var z=function(t){var e=(0,r.useRef)();return(0,r.useEffect)((function(){e.current=t}),[t]),e.current},T=function(t){var e={};return r.Children.map(t,(function(t){var n=t.ref.current;n&&(e[t.key]=n.getBoundingClientRect())})),e},D=function(t){var e=t.children,n=(0,r.useState)({}),i=(0,o.Z)(n,2),a=i[0],s=i[1],u=(0,r.useState)({}),c=(0,o.Z)(u,2),f=c[0],d=c[1],l=z(e);return(0,r.useLayoutEffect)((function(){s(T(e))}),[e]),(0,r.useLayoutEffect)((function(){l&&d(T(l))}),[l]),(0,r.useEffect)((function(){var t=Object.keys(f).length;r.Children.map(e,(function(e){if(t){var n=e.ref.current,r=f[e.key],i=a[e.key];if(r&&i){var s=r.left-i.left,o=r.bottom-i.bottom;0===s&&0===o||requestAnimationFrame((function(){n&&(n.style.transform="translate(".concat(s,"px, ").concat(o,"px)"),n.style.transition="transform 0s",requestAnimationFrame((function(){n.style.transform="",n.style.transition="transform 500ms"})))}))}}}))}),[a,f,e]),e},R=(0,s.Pi)((function(){var t,e,n=(0,r.useCallback)((function(t,e,n){return(0,p.jsx)(x,{id:t.id,text:t.text,index:e,group:n,ref:(0,r.createRef)()},t.id+t.text)}),[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(i.W,{backend:a.PD,children:[(0,p.jsx)(j,{group:"target",children:null===(t=g.h.targetWords)||void 0===t?void 0:t.map((function(t,e){return n(t,e,"target")}))}),(0,p.jsx)(j,{group:"start",children:(0,p.jsx)(D,{children:null===(e=g.h.startWords)||void 0===e?void 0:e.map((function(t,e){return n(t,e,"start")}))})})]}),(0,p.jsx)(Z,{})]})}))},288:function(t,e,n){n.r(e),e.default={}},746:function(t,e,n){n.r(e),e.default={}},707:function(t,e,n){n.r(e),e.default={}},617:function(t,e,n){n.r(e),e.default={}}}]);
//# sourceMappingURL=962.3666b32e.chunk.js.map